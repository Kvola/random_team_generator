<odoo>
    <record id="menu_inscription_ebng" model="website.menu">
        <field name="name">S'inscrire</field>
        <field name="url">/inscription</field>
        <field name="parent_id" ref="website.main_menu" />
        <field name="sequence">50</field>
    </record>
    <record id="menu_church_list" model="website.menu">
        <field name="name">Liste des √©glises</field>
        <field name="url">/eglises</field>
        <field name="parent_id" ref="website.main_menu" />
        <field name="sequence">60</field>
    </record>
    <record id="menu_prayer_cell_list" model="website.menu">
        <field name="name">Cellules de pri√®re</field>
        <field name="url">/cellules-priere</field>
        <field name="parent_id" ref="website.main_menu" />
        <field name="sequence">70</field>
    </record>
    <!-- Template pour le PDF des cellules de pri√®re -->
    <template id="prayer_cell_list_pdf">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <style>
                    .pdf-header {
                        text-align: center;
                        margin-bottom: 30px;
                        border-bottom: 2px solid #3498db;
                        padding-bottom: 15px;
                    }
                    .pdf-title {
                        font-size: 28px;
                        font-weight: bold;
                        color: #ffffff !important;
                        background-color: #00477a !important;
                        margin-bottom: 8px;
                        text-transform: uppercase;
                        letter-spacing: 2px;
                    }
                    .pdf-subtitle {
                        font-size: 12px;
                        color: #7f8c8d;
                        margin-bottom: 5px;
                    }
                    .pdf-stats {
                        font-size: 11px;
                        color: #34495e;
                        font-weight: 500;
                    }
                    .pdf-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin-top: 20px;
                        font-size: 10px;
                    }
                    .pdf-table th {
                        color: #ffffff !important;
                        background: #00477a !important;
                        font-weight: bold;
                        padding: 10px 6px;
                        text-align: center;
                        border: 1px solid #2980b9;
                        font-size: 9px;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }
                    .pdf-table td {
                        padding: 8px 6px;
                        border: 1px solid #bdc3c7;
                        vertical-align: top;
                        line-height: 1.3;
                    }
                    .pdf-table tbody tr:nth-child(even) {
                        background-color: #f8f9fa;
                    }
                    .pdf-cell-name {
                        font-weight: bold;
                        color: #2c3e50;
                        font-size: 11px;
                    }
                    .pdf-church-name {
                        color: #34495e;
                        font-weight: 500;
                    }
                    .pdf-tribe-name {
                        color: #7f8c8d;
                        font-style: italic;
                    }
                    .pdf-member-name {
                        font-weight: 500;
                        color: #2c3e50;
                    }
                    .pdf-member-phone {
                        color: #3498db;
                        font-size: 9px;
                    }
                    .pdf-empty {
                        text-align: center;
                        color: #95a5a6;
                        font-style: italic;
                    }
                    .pdf-footer {
                        margin-top: 20px;
                        padding: 8px 12px;
                        background-color: #ecf0f1;
                        border-radius: 4px;
                        font-size: 9px;
                        color: #2c3e50;
                        text-align: center;
                    }
                </style>

                <div class="pdf-header">
                    <h1 class="pdf-title">Liste des Cellules de Pri√®re</h1>
                    <p class="pdf-subtitle">
                        Date d'√©dition : <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y √† %H:%M')" />
                    </p>
                    <p class="pdf-stats">
                        Total : <span t-esc="len(prayer_cells)" /> cellule(s) - <span t-esc="total_members" /> membre(s)
                    </p>
                </div>

                <table class="pdf-table">
                    <thead>
                        <tr>
                            <th style="width: 20%;">Cellule de pri√®re</th>
                            <th style="width: 20%;">√âglise</th>
                            <th style="width: 15%;">Tribu</th>
                            <th style="width: 30%;">Membres</th>
                            <th style="width: 15%;">Responsable</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="prayer_cells" t-as="cell">
                            <tr>
                                <td>
                                    <div class="pdf-cell-name" t-esc="cell.name" />
                                </td>
                                
                                <td>
                                    <t t-if="cell.prayer_cell_church_id.name">
                                        <div class="pdf-church-name" t-esc="cell.prayer_cell_church_id.name" />
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Non d√©finie</span>
                                    </t>
                                </td>
                                
                                <td>
                                    <t t-if="cell.prayer_cell_tribe_id.name">
                                        <div class="pdf-tribe-name" t-esc="cell.prayer_cell_tribe_id.name" />
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Non d√©finie</span>
                                    </t>
                                </td>
                                
                                <td>
                                    <t t-if="cell.prayer_cell_members">
                                        <t t-foreach="cell.prayer_cell_members" t-as="member">
                                            <div class="pdf-member-name" t-esc="member.name" />
                                            <t t-if="member.phone">
                                                <div class="pdf-member-phone">
                                                    üìû <span t-esc="member.phone" />
                                                </div>
                                            </t>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Aucun membre</span>
                                    </t>
                                </td>
                                
                                <td>
                                    <t t-if="cell.prayer_cell_leader_id.name">
                                        <span class="pdf-member-name" t-esc="cell.prayer_cell_leader_id.name" />
                                        <t t-if="cell.prayer_cell_leader_id.phone">
                                            <div class="pdf-member-phone">
                                                üìû <span t-esc="cell.prayer_cell_leader_id.phone" />
                                            </div>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Non assign√©</span>
                                    </t>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>

                <div class="pdf-footer">
                    <strong>R√©sum√© :</strong> 
                    <span t-esc="len(prayer_cells)" /> cellule(s) | 
                    <span t-esc="total_members" /> membre(s) | 
                    G√©n√©r√© le <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y √† %H:%M')" />
                </div>
            </t>
        </t>
    </template>

    <!-- Template pour la vue web des cellules de pri√®re -->
    <template id="prayer_cell_list" name="Liste des cellules de pri√®re">
        <t t-call="website.layout">
            <div class="container mt-4 mb-5">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card shadow-lg">
                            <div class="card-header bg-gradient-primary">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <h3 class="mb-0">
                                            <i class="fa fa-heart me-1"></i>
                                            Liste des Cellules de Pri√®re
                                        </h3>
                                        <small class="text-light">
                                            <i class="fa fa-calendar me-1"></i>
                                            Derni√®re mise √† jour : <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y √† %H:%M')" />
                                        </small>
                                    </div>
                                    <div class="col-md-4 text-end">
                                        <span class="badge bg-light text-primary fs-6">
                                            <i class="fa fa-users me-1"></i>
                                            <span t-esc="len(prayer_cells)" /> cellule(s) - <span t-esc="total_members" /> membre(s)
                                        </span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="fa fa-search"></i>
                                            </span>
                                            <input type="text" class="form-control" id="searchInput" 
                                                placeholder="Rechercher une cellule, √©glise ou membre..." />
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-end">
                                        <a href="/cellules-priere/pdf" class="btn btn-outline-primary">
                                            <i class="fa fa-file-pdf me-1"></i> Exporter PDF
                                        </a>
                                        <button class="btn btn-outline-secondary" onclick="window.print()">
                                            <i class="fa fa-print me-1"></i> Imprimer
                                        </button>
                                    </div>
                                </div>

                                <div class="table-responsive">
                                    <table class="table table-hover table-striped" id="cellsTable">
                                        <thead class="table-dark">
                                            <tr>
                                                <th class="text-center">
                                                    <i class="fa fa-heart me-1"></i>
                                                    Cellule
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-church me-1"></i>
                                                    √âglise
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-sitemap me-1"></i>
                                                    Tribu
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-users me-1"></i>
                                                    Membres
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-user-tie me-1"></i>
                                                    Responsable
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-foreach="prayer_cells" t-as="cell">
                                                <tr>
                                                    <td>
                                                        <div class="fw-bold text-primary">
                                                            <i class="fa fa-home me-2 text-muted"></i>
                                                            <span t-esc="cell.name" />
                                                        </div>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="cell.prayer_cell_church_id.name">
                                                            <span class="badge bg-info text-dark">
                                                                <i class="fa fa-map-pin me-1"></i>
                                                                <span t-esc="cell.prayer_cell_church_id.name" />
                                                            </span>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-exclamation-triangle me-1"></i>
                                                                Non d√©finie
                                                            </span>
                                                        </t>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="cell.prayer_cell_tribe_id.name">
                                                            <span class="badge bg-secondary">
                                                                <i class="fa fa-map-pin me-1"></i>
                                                                <span t-esc="cell.prayer_cell_tribe_id.name" />
                                                            </span>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-exclamation-triangle me-1"></i>
                                                                Non d√©finie
                                                            </span>
                                                        </t>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="cell.prayer_cell_members">
                                                            <t t-foreach="cell.prayer_cell_members" t-as="member">
                                                                <div class="member-info mb-2">
                                                                    <div class="fw-semibold text-dark">
                                                                        <i class="fa fa-user me-1"></i>
                                                                        <span t-esc="member.name" />
                                                                    </div>
                                                                    <t t-if="member.phone">
                                                                        <div class="small text-primary">
                                                                            <i class="fa fa-phone me-1"></i>
                                                                            <span t-esc="member.phone" />
                                                                        </div>
                                                                    </t>
                                                                </div>
                                                            </t>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-users-slash me-1"></i>
                                                                Aucun membre
                                                            </span>
                                                        </t>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="cell.prayer_cell_leader_id.name">
                                                            <div class="leader-info">
                                                                <div class="fw-semibold text-dark">
                                                                    <i class="fa fa-user-tie me-1 text-success"></i>
                                                                    <span t-esc="cell.prayer_cell_leader_id.name" />
                                                                </div>
                                                                <t t-if="cell.prayer_cell_leader_id.phone">
                                                                    <div class="small text-primary">
                                                                        <i class="fa fa-phone me-1"></i>
                                                                        <span t-esc="cell.prayer_cell_leader_id.phone" />
                                                                    </div>
                                                                </t>
                                                            </div>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-user-times me-1"></i>
                                                                Non assign√©
                                                            </span>
                                                        </t>
                                                    </td>
                                                </tr>
                                            </t>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Script pour la recherche -->
            <script>
                document.getElementById('searchInput').addEventListener('keyup', function() {
                    const searchTerm = this.value.toLowerCase();
                    const table = document.getElementById('cellsTable');
                    const rows = table.getElementsByTagName('tr');
                    
                    for (let i = 1; i &lt; rows.length; i++) {
                        const row = rows[i];
                        const text = row.textContent.toLowerCase();
                        
                        if (text.includes(searchTerm)) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    }
                });
            </script>
        </t>
    </template>
    <!-- Template pour le PDF -->
    <template id="church_list_pdf">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <style>
                    .pdf-header {
                        text-align: center;
                        margin-bottom: 30px;
                        border-bottom: 2px solid #3498db;
                        padding-bottom: 15px;
                    }
                    .pdf-title {
                        font-size: 28px;
                        font-weight: bold;
                        color: #ffffff !important;
                        background-color: #00477a !important;
                        margin-bottom: 8px;
                        text-transform: uppercase;
                        letter-spacing: 2px;
                    }
                    .pdf-subtitle {
                        font-size: 12px;
                        color: #7f8c8d;
                        margin-bottom: 5px;
                    }
                    .pdf-stats {
                        font-size: 11px;
                        color: #34495e;
                        font-weight: 500;
                    }
                    .pdf-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin-top: 20px;
                        font-size: 10px;
                    }
                    .pdf-table th {
                        color: #ffffff !important;
                        background: #00477a !important;
                        font-weight: bold;
                        padding: 10px 6px;
                        text-align: center;
                        border: 1px solid #2980b9;
                        font-size: 9px;
                        text-transform: uppercase;
                        letter-spacing: 0.5px;
                    }
                    .pdf-table td {
                        padding: 8px 6px;
                        border: 1px solid #bdc3c7;
                        vertical-align: top;
                        line-height: 1.3;
                    }
                    .pdf-table tbody tr:nth-child(even) {
                        background-color: #f8f9fa;
                    }
                    .pdf-church-name {
                        font-weight: bold;
                        color: #2c3e50;
                        font-size: 11px;
                    }
                    .pdf-region {
                        color: #34495e;
                        font-weight: 500;
                    }
                    .pdf-pastor-name {
                        font-weight: 500;
                        color: #2c3e50;
                        display: block;
                        margin-bottom: 2px;
                    }
                    .pdf-pastor-phone {
                        color: #7f8c8d;
                        font-size: 8px;
                        font-style: italic;
                    }
                    .pdf-assistant-pastor {
                        display: block;
                        margin-bottom: 3px;
                        padding: 1px 0;
                    }
                    .pdf-empty {
                        text-align: center;
                        color: #95a5a6;
                        font-style: italic;
                    }
                    .pdf-footer {
                        margin-top: 20px;
                        padding: 8px 12px;
                        background-color: #ecf0f1;
                        border-radius: 4px;
                        font-size: 9px;
                        color: #2c3e50;
                        text-align: center;
                    }
                </style>

                <div class="pdf-header">
                    <h1 class="pdf-title">Liste des √âglises</h1>
                    <p class="pdf-subtitle">
                        Date d'√©dition : <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y √† %H:%M')" />
                    </p>
                    <p class="pdf-stats">
                        Total : <span t-esc="len(churches)" /> √©glise(s) r√©pertori√©e(s)
                    </p>
                </div>

                <table class="pdf-table">
                    <thead>
                        <tr>
                            <th style="width: 25%;">√âglise</th>
                            <th style="width: 15%;">R√©gion</th>
                            <th style="width: 20%;">Pasteur R√©gional</th>
                            <th style="width: 20%;">Pasteur Principal</th>
                            <th style="width: 20%;">Pasteurs Adjoints</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="churches" t-as="church">
                            <tr>
                                <td>
                                    <div class="pdf-church-name" t-esc="church.name" />
                                </td>
                                
                                <td>
                                    <t t-if="church.region_id.name">
                                        <div class="pdf-region" t-esc="church.region_id.name" />
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Non d√©finie</span>
                                    </t>
                                </td>
                                
                                <td>
                                    <t t-if="church.region_id.regional_pastor_id.name">
                                        <span class="pdf-pastor-name" t-esc="church.region_id.regional_pastor_id.name" />
                                        <t t-if="church.region_id.regional_pastor_id.phone">
                                            <div class="pdf-pastor-phone">
                                                üìû <span t-esc="church.region_id.regional_pastor_id.phone" />
                                            </div>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Non assign√©</span>
                                    </t>
                                </td>
                                
                                <td>
                                    <t t-if="church.main_pastor_id.name">
                                        <span class="pdf-pastor-name" t-esc="church.main_pastor_id.name" />
                                        <t t-if="church.main_pastor_id.phone">
                                            <div class="pdf-pastor-phone">
                                                üìû <span t-esc="church.main_pastor_id.phone" />
                                            </div>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Non assign√©</span>
                                    </t>
                                </td>
                                
                                <td>
                                    <t t-if="church.assistant_pastor_ids">
                                        <t t-foreach="church.assistant_pastor_ids" t-as="pastor">
                                            <div class="pdf-assistant-pastor">
                                                <span class="pdf-pastor-name" t-esc="pastor.name" />
                                                <t t-if="pastor.phone">
                                                    <div class="pdf-pastor-phone">
                                                        üìû <span t-esc="pastor.phone" />
                                                    </div>
                                                </t>
                                            </div>
                                        </t>
                                    </t>
                                    <t t-else="">
                                        <span class="pdf-empty">Aucun</span>
                                    </t>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>

                <div class="pdf-footer">
                    <strong>R√©sum√© :</strong> 
                    <span t-esc="len(churches)" /> √©glise(s) | 
                    G√©n√©r√© le <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y √† %H:%M')" />
                </div>
            </t>
        </t>
    </template>

    <!-- Template pour la vue web -->
    <template id="church_list" name="Liste des √©glises">
        <t t-call="website.layout">
            <div class="container mt-4 mb-5">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card shadow-lg">
                            <div class="card-header bg-gradient-primary">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <h3 class="mb-0">
                                            <i class="fa fa-church me-1"></i>
                                            Liste des √âglises
                                        </h3>
                                        <small class="text-light">
                                            <i class="fa fa-calendar me-1"></i>
                                            Derni√®re mise √† jour : <span t-esc="datetime.datetime.now().strftime('%d/%m/%Y √† %H:%M')" />
                                        </small>
                                    </div>
                                    <div class="col-md-4 text-end">
                                        <span class="badge bg-light text-primary fs-6">
                                            <i class="fa fa-home me-1"></i>
                                            <span t-esc="len(churches)" /> √©glise(s)
                                        </span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card-body">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            <span class="input-group-text">
                                                <i class="fa fa-search"></i>
                                            </span>
                                            <input type="text" class="form-control" id="searchInput" 
                                                placeholder="Rechercher une √©glise, r√©gion ou pasteur..." />
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-end">
                                        <a href="/eglises/pdf" class="btn btn-outline-primary">
                                            <i class="fa fa-file-pdf me-1"></i> Exporter PDF
                                        </a>
                                        <button class="btn btn-outline-secondary" onclick="window.print()">
                                            <i class="fa fa-print me-1"></i> Imprimer
                                        </button>
                                    </div>
                                </div>

                                <div class="table-responsive">
                                    <table class="table table-hover table-striped" id="churchesTable">
                                        <thead class="table-dark">
                                            <tr>
                                                <th class="text-center">
                                                    <i class="fa fa-church me-1"></i>
                                                    √âglise
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-map-marker me-1"></i>
                                                    R√©gion
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-user-tie me-1"></i>
                                                    Pasteur R√©gional
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-user-plus me-1"></i>
                                                    Pasteur Principal
                                                </th>
                                                <th class="text-center">
                                                    <i class="fa fa-users me-1"></i>
                                                    Pasteurs Adjoints
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-foreach="churches" t-as="church">
                                                <tr>
                                                    <td>
                                                        <div class="fw-bold text-primary">
                                                            <i class="fa fa-home me-2 text-muted"></i>
                                                            <span t-esc="church.name" />
                                                        </div>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="church.region_id.name">
                                                            <span class="badge bg-info text-dark">
                                                                <i class="fa fa-map-pin me-1"></i>
                                                                <span t-esc="church.region_id.name" />
                                                            </span>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-exclamation-triangle me-1"></i>
                                                                Non d√©finie
                                                            </span>
                                                        </t>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="church.region_id.regional_pastor_id.name">
                                                            <div class="pastor-info">
                                                                <div class="fw-semibold text-dark">
                                                                    <i class="fa fa-user me-1 text-primary"></i>
                                                                    <span t-esc="church.region_id.regional_pastor_id.name" />
                                                                </div>
                                                                <t t-if="church.region_id.regional_pastor_id.phone">
                                                                    <div class="small text-muted">
                                                                        <i class="fa fa-phone me-1"></i>
                                                                        <span t-esc="church.region_id.regional_pastor_id.phone" />
                                                                    </div>
                                                                </t>
                                                            </div>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-user-times me-1"></i>
                                                                Non assign√©
                                                            </span>
                                                        </t>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="church.main_pastor_id.name">
                                                            <div class="pastor-info">
                                                                <div class="fw-semibold text-dark">
                                                                    <i class="fa fa-user me-1 text-success"></i>
                                                                    <span t-esc="church.main_pastor_id.name" />
                                                                </div>
                                                                <t t-if="church.main_pastor_id.phone">
                                                                    <div class="small text-muted">
                                                                        <i class="fa fa-phone me-1"></i>
                                                                        <span t-esc="church.main_pastor_id.phone" />
                                                                    </div>
                                                                </t>
                                                            </div>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-user-times me-1"></i>
                                                                Non assign√©
                                                            </span>
                                                        </t>
                                                    </td>
                                                    
                                                    <td>
                                                        <t t-if="church.assistant_pastor_ids">
                                                            <t t-foreach="church.assistant_pastor_ids" t-as="pastor">
                                                                <div class="assistant-pastor mb-2">
                                                                    <div class="fw-semibold text-dark">
                                                                        <i class="fa fa-user me-1 text-warning"></i>
                                                                        <span t-esc="pastor.name" />
                                                                    </div>
                                                                    <t t-if="pastor.phone">
                                                                        <div class="small text-muted">
                                                                            <i class="fa fa-phone me-1"></i>
                                                                            <span t-esc="pastor.phone" />
                                                                        </div>
                                                                    </t>
                                                                </div>
                                                            </t>
                                                        </t>
                                                        <t t-else="">
                                                            <span class="text-muted fst-italic">
                                                                <i class="fa fa-users-slash me-1"></i>
                                                                Aucun
                                                            </span>
                                                        </t>
                                                    </td>
                                                </tr>
                                            </t>
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Statistiques en bas -->
                                <div class="row mt-4">
                                    <div class="col-md-12">
                                        <div class="card bg-light">
                                            <div class="card-body">
                                                <div class="row text-center">
                                                    <div class="col-md-3">
                                                        <h5 class="text-primary">
                                                            <i class="fa fa-church"></i>
                                                            <span t-esc="len(churches)" />
                                                        </h5>
                                                        <small class="text-muted">Total √âglises</small>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h5 class="text-info">
                                                            <i class="fa fa-map-marker"></i>
                                                            <span t-esc="len(set(church.region_id.name for church in churches if church.region_id.name))" />
                                                        </h5>
                                                        <small class="text-muted">R√©gions</small>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h5 class="text-success">
                                                            <i class="fa fa-user-plus"></i>
                                                            <span t-esc="len([church for church in churches if church.main_pastor_id.name])" />
                                                        </h5>
                                                        <small class="text-muted">Pasteurs Principaux</small>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h5 class="text-warning">
                                                            <i class="fa fa-users"></i>
                                                            <span t-esc="sum(len(church.assistant_pastor_ids) for church in churches)" />
                                                        </h5>
                                                        <small class="text-muted">Pasteurs Adjoints</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Script pour la recherche -->
            <script>
                document.getElementById('searchInput').addEventListener('keyup', function() {
                    const searchTerm = this.value.toLowerCase();
                    const table = document.getElementById('churchesTable');
                    const rows = table.getElementsByTagName('tr');
                    
                    for (let i = 1; i &lt; rows.length; i++) {
                        const row = rows[i];
                        const text = row.textContent.toLowerCase();
                        
                        if (text.includes(searchTerm)) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    }
                });
            </script>
        </t>
    </template>
    <!-- Formulaire d'inscription complet -->
    <template id="inscription_form" name="Formulaire d'inscription complet">
        <t t-call="website.layout">
            <link rel="stylesheet"
                href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
            <link rel="stylesheet"
                href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
            <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
            <style>
                @media (max-width: 768px) {
                .date-selectors .row {
                gap: 10px;
                }

                .date-selectors select {
                font-size: 16px; /* √âvite le zoom sur iOS */
                padding: 12px;
                border-radius: 8px;
                }

                .date-selectors .col-4 {
                margin-bottom: 10px;
                }
                }

                /* Am√©lioration g√©n√©rale des s√©lecteurs */
                .form-select {
                font-size: 16px;
                padding: 12px;
                border: 2px solid #ddd;
                border-radius: 8px;
                background-color: white;
                touch-action: manipulation;
                }

                .form-select:focus {
                border-color: #007bff;
                box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
                }

                /* Personnalisation Select2 */
                .select2-container--bootstrap-5 .select2-selection {
                min-height: 48px;
                border: 2px solid #ddd;
                border-radius: 8px;
                font-size: 16px;
                }

                .select2-container--bootstrap-5 .select2-selection--single
                .select2-selection__rendered {
                padding: 12px;
                line-height: 1.5;
                }

                .select2-container--bootstrap-5 .select2-selection--single .select2-selection__arrow
                {
                height: 46px;
                right: 12px;
                }

                .select2-container--bootstrap-5.select2-container--focus .select2-selection {
                border-color: #007bff;
                box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
                }

                .select2-dropdown {
                border: 2px solid #007bff;
                border-radius: 8px;
                }

                .select2-search--dropdown .select2-search__field {
                border: 1px solid #ddd;
                border-radius: 4px;
                padding: 8px 12px;
                font-size: 14px;
                }

                .select2-results__option {
                padding: 10px 12px;
                font-size: 14px;
                }

                .select2-results__option--highlighted {
                background-color: #007bff;
                color: white;
                }

                /* Style sp√©cial pour les s√©lecteurs de date */
                .date-selector {
                min-height: 48px;
                }

                .searchable-select {
                width: 100%;
                }

                /* Am√©lioration pour mobile */
                @media (max-width: 768px) {
                .select2-container--bootstrap-5 .select2-selection {
                min-height: 52px;
                font-size: 16px;
                }

                .select2-container--bootstrap-5 .select2-selection--single
                .select2-selection__rendered {
                padding: 14px;
                }

                .select2-container--bootstrap-5 .select2-selection--single .select2-selection__arrow
                {
                height: 50px;
                }
                }

                /* Indicateur de champ obligatoire */
                .required-field label::after {
                content: " *";
                color: #dc3545;
                font-weight: bold;
                }
            </style>

            <div class="container mt-5 mb-5">
                <div class="row justify-content-center">
                    <div class="col-md-10">
                        <div class="card">
                            <div class="card-header bg-primary text-white">
                                <h3 class="text-center">Formulaire d'identification du juste</h3>
                            </div>

                            <div class="card-body">
                                <t t-if="error">
                                    <div class="alert alert-danger" t-esc="error" />
                                </t>

                                <form method="post" class="mt-3">
                                    <!-- Section Informations personnelles -->
                                    <h4 class="border-bottom pb-2 mb-3">Informations personnelles</h4>
                                    <div class="row">
                                        <div class="col-md-6 mb-3 required-field">
                                            <label class="form-label">Nom complet</label>
                                            <input type="text" name="name" class="form-control"
                                                t-att-value="values.get('name', '')"
                                                required="required" />
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Email</label>
                                            <input type="email" name="email" class="form-control"
                                                t-att-value="values.get('email', '')" />
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">T√©l√©phone</label>
                                            <input type="tel" name="phone" class="form-control"
                                                t-att-value="values.get('phone', '')" />
                                        </div>
                                        <div class="col-md-6 mb-3 required-field">
                                            <label class="form-label">Sexe</label>
                                            <select name="gender"
                                                class="form-select searchable-select"
                                                required="required">
                                                <option value="">-- S√©lectionnez --</option>
                                                <option value="male"
                                                    t-att-selected="'male' == values.get('gender', '')">
                                                    Homme</option>
                                                <option value="female"
                                                    t-att-selected="'female' == values.get('gender', '')">
                                                    Femme</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <!-- Date de naissance -->
                                        <div class="col-md-6 mb-3 required-field">
                                            <label class="form-label">Date de naissance</label>
                                            <div class="row date-selectors">
                                                <div class="col-4">
                                                    <select name="birth_day"
                                                        class="form-select date-selector"
                                                        required="required">
                                                        <option value="">Jour</option>
                                                        <t t-foreach="range(1, 32)" t-as="day">
                                                            <option t-att-value="day"
                                                                t-att-selected="str(day) == values.get('birth_day', '')">
                                                                <t t-esc="day" />
                                                            </option>
                                                        </t>
                                                    </select>
                                                </div>
                                                <div class="col-4">
                                                    <select name="birth_month"
                                                        class="form-select date-selector"
                                                        required="required">
                                                        <option value="">Mois</option>
                                                        <option value="1"
                                                            t-att-selected="'1' == values.get('birth_month', '')">
                                                            Janvier</option>
                                                        <option value="2"
                                                            t-att-selected="'2' == values.get('birth_month', '')">
                                                            F√©vrier</option>
                                                        <option value="3"
                                                            t-att-selected="'3' == values.get('birth_month', '')">
                                                            Mars</option>
                                                        <option value="4"
                                                            t-att-selected="'4' == values.get('birth_month', '')">
                                                            Avril</option>
                                                        <option value="5"
                                                            t-att-selected="'5' == values.get('birth_month', '')">
                                                            Mai</option>
                                                        <option value="6"
                                                            t-att-selected="'6' == values.get('birth_month', '')">
                                                            Juin</option>
                                                        <option value="7"
                                                            t-att-selected="'7' == values.get('birth_month', '')">
                                                            Juillet</option>
                                                        <option value="8"
                                                            t-att-selected="'8' == values.get('birth_month', '')">
                                                            Ao√ªt</option>
                                                        <option value="9"
                                                            t-att-selected="'9' == values.get('birth_month', '')">
                                                            Septembre</option>
                                                        <option value="10"
                                                            t-att-selected="'10' == values.get('birth_month', '')">
                                                            Octobre</option>
                                                        <option value="11"
                                                            t-att-selected="'11' == values.get('birth_month', '')">
                                                            Novembre</option>
                                                        <option value="12"
                                                            t-att-selected="'12' == values.get('birth_month', '')">
                                                            D√©cembre</option>
                                                    </select>
                                                </div>
                                                <div class="col-4">
                                                    <select name="birth_year"
                                                        class="form-select date-selector"
                                                        required="required">
                                                        <option value="">Ann√©e</option>
                                                        <t t-foreach="range(2025, 1919, -1)"
                                                            t-as="year">
                                                            <option t-att-value="year"
                                                                t-att-selected="str(year) == values.get('birth_year', '')">
                                                                <t t-esc="year" />
                                                            </option>
                                                        </t>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3 required-field">
                                            <label class="form-label">Situation matrimoniale</label>
                                            <select name="marital_status"
                                                class="form-select searchable-select"
                                                required="required">
                                                <option value="">-- S√©lectionnez --</option>
                                                <option value="single"
                                                    t-att-selected="'single' == values.get('marital_status', '')">
                                                    C√©libataire</option>
                                                <option value="married"
                                                    t-att-selected="'married' == values.get('marital_status', '')">
                                                    Mari√©(e)</option>
                                                <option value="divorced"
                                                    t-att-selected="'divorced' == values.get('marital_status', '')">
                                                    Divorc√©(e)</option>
                                                <option value="widowed"
                                                    t-att-selected="'widowed' == values.get('marital_status', '')">
                                                    Veuf/Veuve</option>
                                                <option value="separated"
                                                    t-att-selected="'separated' == values.get('marital_status', '')">
                                                    S√©par√©(e)</option>
                                                <option value="cohabiting"
                                                    t-att-selected="'cohabiting' == values.get('marital_status', '')">En
                                                    concubinage</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Section Lieu d'habitation et profession -->
                                    <h4 class="border-bottom pb-2 mb-3 mt-4">Lieu d'habitation et
                                        profession</h4>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Lieu d'habitation</label>
                                            <input type="text" name="street2" class="form-control"
                                                placeholder="Adresse, quartier, ville"
                                                t-att-value="values.get('street2', '')" />
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Profession</label>
                                            <input type="text" name="profession"
                                                class="form-control"
                                                placeholder="Votre profession ou m√©tier"
                                                t-att-value="values.get('function', '')" />
                                        </div>
                                    </div>

                                    <!-- Section Affiliation -->
                                    <h4 class="border-bottom pb-2 mb-3 mt-4">Affiliation</h4>
                                    <div class="row">
                                        <div class="col-md-6 mb-3 required-field">
                                            <label class="form-label">√âglise</label>
                                            <select name="church_id"
                                                class="form-select searchable-select"
                                                required="required">
                                                <option value="">-- S√©lectionnez votre √©glise --</option>
                                                <t t-foreach="churches" t-as="church">
                                                    <option t-att-value="church.id"
                                                        t-att-selected="str(church.id) == values.get('church_id', '')">
                                                        <t t-esc="church.name" />
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                        <!-- Date de salut -->
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Date de salut</label>
                                            <div class="row date-selectors">
                                                <div class="col-4">
                                                    <select name="arrival_day"
                                                        class="form-select date-selector">
                                                        <option value="">Jour</option>
                                                        <t t-foreach="range(1, 32)" t-as="day">
                                                            <option t-att-value="day"
                                                                t-att-selected="str(day) == values.get('arrival_day', '')">
                                                                <t t-esc="day" />
                                                            </option>
                                                        </t>
                                                    </select>
                                                </div>
                                                <div class="col-4">
                                                    <select name="arrival_month"
                                                        class="form-select date-selector">
                                                        <option value="">Mois</option>
                                                        <option value="1"
                                                            t-att-selected="'1' == values.get('arrival_month', '')">
                                                            Janvier</option>
                                                        <option value="2"
                                                            t-att-selected="'2' == values.get('arrival_month', '')">
                                                            F√©vrier</option>
                                                        <option value="3"
                                                            t-att-selected="'3' == values.get('arrival_month', '')">
                                                            Mars</option>
                                                        <option value="4"
                                                            t-att-selected="'4' == values.get('arrival_month', '')">
                                                            Avril</option>
                                                        <option value="5"
                                                            t-att-selected="'5' == values.get('arrival_month', '')">
                                                            Mai</option>
                                                        <option value="6"
                                                            t-att-selected="'6' == values.get('arrival_month', '')">
                                                            Juin</option>
                                                        <option value="7"
                                                            t-att-selected="'7' == values.get('arrival_month', '')">
                                                            Juillet</option>
                                                        <option value="8"
                                                            t-att-selected="'8' == values.get('arrival_month', '')">
                                                            Ao√ªt</option>
                                                        <option value="9"
                                                            t-att-selected="'9' == values.get('arrival_month', '')">
                                                            Septembre</option>
                                                        <option value="10"
                                                            t-att-selected="'10' == values.get('arrival_month', '')">
                                                            Octobre</option>
                                                        <option value="11"
                                                            t-att-selected="'11' == values.get('arrival_month', '')">
                                                            Novembre</option>
                                                        <option value="12"
                                                            t-att-selected="'12' == values.get('arrival_month', '')">
                                                            D√©cembre</option>
                                                    </select>
                                                </div>
                                                <div class="col-4">
                                                    <select name="arrival_year"
                                                        class="form-select date-selector">
                                                        <option value="">Ann√©e</option>
                                                        <t t-foreach="range(2025, 1949, -1)"
                                                            t-as="year">
                                                            <option t-att-value="year"
                                                                t-att-selected="str(year) == values.get('arrival_year', '')">
                                                                <t t-esc="year" />
                                                            </option>
                                                        </t>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Fonction</label>
                                            <select name="function_type"
                                                class="form-select searchable-select">
                                                <option value="">-- S√©lectionnez --</option>
                                                <option value="member"
                                                    t-att-selected="'member' == values.get('function_type', '')">
                                                    Membre</option>
                                                <option value="pastor"
                                                    t-att-selected="'pastor' == values.get('function_type', '')">
                                                    Pasteur</option>
                                                <option value="elder"
                                                    t-att-selected="'elder' == values.get('function_type', '')">
                                                    Ancien</option>
                                                <option value="deacon"
                                                    t-att-selected="'deacon' == values.get('function_type', '')">
                                                    Diacre</option>
                                                <option value="missionary"
                                                    t-att-selected="'missionary' == values.get('function_type', '')">
                                                    Missionnaire</option>
                                                <option value="leader"
                                                    t-att-selected="'leader' == values.get('function_type', '')">
                                                    Responsable</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Section Groupes -->
                                    <h4 class="border-bottom pb-2 mb-3 mt-4">Affiliation aux
                                        structures</h4>
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Tribu</label>
                                            <select name="tribe_id"
                                                class="form-select searchable-select">
                                                <option value="">-- S√©lectionnez --</option>
                                                <t t-foreach="tribes" t-as="tribe">
                                                    <option t-att-value="tribe.id"
                                                        t-att-selected="str(tribe.id) == values.get('tribe_id', '')">
                                                        <t t-esc="tribe.name" />
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Cellule de pri√®re</label>
                                            <select name="prayer_cell_id"
                                                class="form-select searchable-select">
                                                <option value="">-- S√©lectionnez --</option>
                                                <t t-foreach="prayer_cells" t-as="cell">
                                                    <option t-att-value="cell.id"
                                                        t-att-selected="str(cell.id) == values.get('prayer_cell_id', '')">
                                                        <t t-esc="cell.name" />
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Groupe</label>
                                            <select name="group_id"
                                                class="form-select searchable-select">
                                                <option value="">-- S√©lectionnez --</option>
                                                <t t-foreach="groups" t-as="group">
                                                    <option t-att-value="group.id"
                                                        t-att-selected="str(group.id) == values.get('group_id', '')">
                                                        <t t-esc="group.name" />
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label">Autre structure</label>
                                            <select name="academy_id"
                                                class="form-select searchable-select">
                                                <option value="">-- S√©lectionnez --</option>
                                                <t t-foreach="academies" t-as="academy">
                                                    <option t-att-value="academy.id"
                                                        t-att-selected="str(academy.id) == values.get('academy_id', '')">
                                                        <t t-esc="academy.name" />
                                                    </option>
                                                </t>
                                            </select>
                                        </div>
                                    </div>

                                    <!-- Section Commentaires -->
                                    <div class="mb-3">
                                        <label class="form-label">Commentaires</label>
                                        <textarea name="comment" class="form-control" rows="3"
                                            t-att-value="values.get('comment', '')"></textarea>
                                    </div>

                                    <div class="form-check mb-3">
                                        <input type="checkbox" class="form-check-input"
                                            id="accept_terms" name="accept_terms"
                                            required="required" />
                                        <label class="form-check-label" for="accept_terms">
                                            J'accepte les conditions d'utilisation et la politique
                                            de confidentialit√©
                                        </label>
                                    </div>

                                    <div class="text-center mt-4">
                                        <button type="submit" class="btn btn-primary btn-lg">
                                            <i class="fa fa-paper-plane me-2"></i> Soumettre
                                            l'inscription </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- Page de succ√®s apr√®s inscription -->
    <template id="inscription_success" name="Inscription r√©ussie">
        <t t-call="website.layout">
            <div class="container mt-5 mb-5">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="card text-center">
                            <div class="card-header bg-success text-white">
                                <h3>Inscription enregistr√©e</h3>
                            </div>
                            <div class="card-body">
                                <div class="mb-4">
                                    <i class="fa fa-check-circle fa-5x text-success"></i>
                                </div>
                                <h4 class="card-title">Merci <t t-esc="partner.name" /> !</h4>
                                <p class="card-text">
                                    Votre inscription a bien √©t√© enregistr√©e. Un responsable va la
                                    valider prochainement.
                                </p>
                                <p>
                                    Vous recevrez un email de confirmation une fois votre compte
                                    activ√©.
                                </p>
                                <a href="/" class="btn btn-primary">
                                    Retour √† l'accueil
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
    <template id="portal_my_home_inherit" name="My Portal" inherit_id="portal.portal_my_home">
        <xpath expr="//div[@id='portal_common_category']" position="after">
            <div class="o_portal_category row g-2 mt-3">
                <t t-call="portal.portal_docs_entry" t-if="False" />
                <t t-call="portal.portal_docs_entry">
                    <t t-set="icon"
                        t-value="'/random_team_generator/static/src/img/user-profile.svg'" />
                    <t t-set="title">Mon profil</t>
                    <t t-set="text">Configurez vos param√®tres de profil</t>
                    <t t-set="url" t-value="'/my/profile'" />
                    <t t-set="config_card" t-value="True" />
                </t>
                <t t-call="portal.portal_docs_entry">
                    <t t-set="icon" t-value="'/web/static/src/img/icons/children.svg'" />
                    <t t-set="title">Mes enfants (p√®re)</t>
                    <t t-set="text">Liste des enfants pour lesquels vous √™tes d√©clar√© comme p√®re</t>
                    <t t-set="url" t-value="'/my/fathered-children'" />
                    <t t-set="config_card" t-value="True" />
                </t>
                <t t-call="portal.portal_docs_entry">
                    <t t-set="icon" t-value="'/web/static/src/img/icons/children.svg'" />
                    <t t-set="title">Mes enfants (m√®re)</t>
                    <t t-set="text">Liste des enfants pour lesquels vous √™tes d√©clar√©e comme m√®re</t>
                    <t t-set="url" t-value="'/my/mothered-children'" />
                    <t t-set="config_card" t-value="True" />
                </t>
            </div>
        </xpath>
    </template>

    <template id="portal_my_profile" name="Mon profil">
        <t t-call="portal.portal_layout">
            <div class="container">
                <h1>Mon profil</h1>

                <form method="post" action="/my/profile/update">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Nom</label>
                            <input type="text" name="name" class="form-control"
                                t-att-value="partner.name" />
                            <t t-if="error.get('name')">
                                <div class="text-danger">Ce champ est obligatoire</div>
                            </t>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Sexe</label>
                            <select name="gender" class="form-control">
                                <option value="">-- S√©lectionnez --</option>
                                <option value="male"
                                    t-att-selected="'selected' if partner.gender == 'male' else None">
                                    Homme</option>
                                <option value="female"
                                    t-att-selected="'selected' if partner.gender == 'female' else None">
                                    Femme</option>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Date de naissance</label>
                            <input type="date" name="birthdate" class="form-control"
                                t-att-value="partner.birthdate and partner.birthdate.strftime('%Y-%m-%d') or ''" />
                            <t t-if="error.get('birthdate')">
                                <div class="text-danger">Format de date invalide (JJ/MM/AAAA)</div>
                            </t>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">√Çge</label>
                            <input type="text" class="form-control" t-att-value="partner.age"
                                disabled="disabled" />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Situation matrimoniale</label>
                            <select name="marital_status" class="form-control">
                                <option value="single"
                                    t-att-selected="'selected' if partner.marital_status == 'single' else None">
                                    C√©libataire</option>
                                <option value="married"
                                    t-att-selected="'selected' if partner.marital_status == 'married' else None">
                                    Mari√©(e)</option>
                                <option value="divorced"
                                    t-att-selected="'selected' if partner.marital_status == 'divorced' else None">
                                    Divorc√©(e)</option>
                                <option value="widowed"
                                    t-att-selected="'selected' if partner.marital_status == 'widowed' else None">
                                    Veuf/Veuve</option>
                                <option value="separated"
                                    t-att-selected="'selected' if partner.marital_status == 'separated' else None">
                                    S√©par√©(e)</option>
                                <option value="cohabiting"
                                    t-att-selected="'selected' if partner.marital_status == 'cohabiting' else None">
                                    Concubinage</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">P√®re</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.father_id.name" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">M√®re</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.mother_id.name" />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label class="form-label">Organisation</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.parent_id.name" disabled="disabled" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">√âglise</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.church_id.name" disabled="disabled" />
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Date de salut</label>
                            <input type="date" name="arrival_date" class="form-control"
                                t-att-value="partner.arrival_date and partner.arrival_date.strftime('%Y-%m-%d') or ''" />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-3">
                            <label class="form-label">Tribu</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.tribe_id.name" disabled="disabled" />
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Groupe</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.group_id.name" disabled="disabled" />
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Cellule de pri√®re</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.prayer_cell_id.name" disabled="disabled" />
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Structure</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.academy_id.name" disabled="disabled" />
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">P√®re</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.father_id.name" disabled="disabled" />
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">M√®re</label>
                            <input type="text" class="form-control"
                                t-att-value="partner.mother_id.name" disabled="disabled" />
                        </div>
                    </div>

                    <t t-if="error_message">
                        <div class="alert alert-danger">
                            <t t-foreach="error_message" t-as="msg">
                                <div>
                                    <t t-esc="msg" />
                                </div>
                            </t>
                        </div>
                    </t>

                    <button type="submit" class="btn btn-primary">Enregistrer les modifications</button>
                </form>
            </div>
        </t>
    </template>
    <template id="portal_contact_list" name="Liste de mes enfants">
        <t t-call="portal.portal_layout">
            <div class="container">
                <h1>Mes enfants</h1>
                <a href="/my/contacts/new" class="btn btn-primary">Ajouter</a>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Sexe</th>
                            <th>√Çge</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="children" t-as="child">
                            <tr>
                                <td>
                                    <t t-esc="child.name" />
                                </td>
                                <td>
                                    <t t-esc="child.gender" />
                                </td>
                                <td>
                                    <t t-esc="child.age" />
                                </td>
                                <td>
                                    <a t-att-href="'/my/contacts/%d/edit' % child.id"
                                        class="btn btn-secondary btn-sm">Modifier</a>
                                    <a t-att-href="'/my/contacts/%d/delete' % child.id"
                                        class="btn btn-danger btn-sm">Supprimer</a>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
        </t>
    </template>
    <template id="portal_contact_form" name="Formulaire Contact">
        <t t-call="portal.portal_layout">
            <div class="container">
                <h1>
                    <t t-if="create">Cr√©er</t>
                    <t t-else="">Modifier</t> un contact </h1>
                <form method="post">
                    <input type="text" name="name" class="form-control mb-2" placeholder="Nom"
                        t-att-value="contact.name if not create else ''" />
                    <select name="gender" class="form-control mb-2">
                        <option value="male"
                            t-att-selected="'male' == (contact.gender if not create else '')">Homme</option>
                        <option value="female"
                            t-att-selected="'female' == (contact.gender if not create else '')">
                            Femme</option>
                    </select>
                    <input type="date" name="birthdate" class="form-control mb-2"
                        t-att-value="contact.birthdate if not create else ''" />
                    <select name="marital_status" class="form-control mb-3">
                        <option value="single">C√©libataire</option>
                        <option value="married">Mari√©(e)</option>
                        <option value="divorced">Divorc√©(e)</option>
                        <option value="widowed">Veuf/Veuve</option>
                        <option value="separated">S√©par√©(e)</option>
                        <option value="cohabiting">Concubinage</option>
                    </select>
                    <button type="submit" class="btn btn-success">Enregistrer</button>
                </form>
            </div>
        </t>
    </template>
    <template id="portal_fathered_children" name="Mes enfants (p√®re)">
        <t t-call="portal.portal_layout">
            <div class="container">
                <h1>Mes enfants (p√®re)</h1>
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Sexe</th>
                            <th>Date de naissance</th>
                            <th>√Çge</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="children" t-as="child">
                            <tr>
                                <td>
                                    <t t-esc="child.name" />
                                </td>
                                <td>
                                    <t t-esc="child.gender" />
                                </td>
                                <td>
                                    <t t-esc="child.birthdate" />
                                </td>
                                <td><t t-esc="child.age" /> ans</td>
                            </tr>
                        </t>
                    </tbody>
                </table>
                <div class="mt-4 text-center">
                    <a href="/my" class="btn btn-secondary">
                        <i class="fa fa-arrow-left me-2"></i> Retour au tableau de bord </a>
                </div>
            </div>
        </t>
    </template>
    <template id="portal_mothered_children" name="Mes enfants (m√®re)">
        <t t-call="portal.portal_layout">
            <div class="container">
                <h1>Mes enfants (m√®re)</h1>
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Sexe</th>
                            <th>Date de naissance</th>
                            <th>√Çge</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="children" t-as="child">
                            <tr>
                                <td>
                                    <t t-esc="child.name" />
                                </td>
                                <td>
                                    <t t-esc="child.gender" />
                                </td>
                                <td>
                                    <t t-esc="child.birthdate" />
                                </td>
                                <td><t t-esc="child.age" /> ans</td>
                            </tr>
                        </t>
                    </tbody>
                </table>
                <div class="mt-4 text-center">
                    <a href="/my" class="btn btn-secondary">
                        <i class="fa fa-arrow-left me-2"></i> Retour au tableau de bord </a>
                </div>
            </div>
        </t>
    </template>
</odoo>